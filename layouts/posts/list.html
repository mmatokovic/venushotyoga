{{ define "main" }}
<main class="mx-auto max-w-screen-xl px-4 py-8 sm:py-12 sm:px-6 lg:py-16 lg:px-8 font-nunito">
  <section class="text-gray-600 body-font overflow-hidden">
    <div class="mw-auto  text-center border-b-4 border-buff mb-4">
        <h2 class="text-3xl font-bold sm:text-4xl">
            {{ .Title }}
        </h2>
    </div>
  </section>
  <section>
    <div class="grid grid-cols-1 gap-8 lg:grid-cols-2 lg:gap-16">
      <div>
        <h5 class="font-bold">
          Latest Blog
        </h5>
        {{ $blogs := where .Site.Pages "Params.category" "blog" | first 1 }}
        {{ range $blog := $blogs }}
        <article class="group">
          {{ with resources.Get .Params.featured_image }}
          {{ $image := .Resize (printf "%dx%d webp" .Width .Height) }}
          {{ if $image }}
          <picture>
            <source srcset="{{ $image.RelPermalink }}" type="image/webp">
            <img class="h-80 w-full rounded-xl object-cover shadow-xl transition group-hover:grayscale-[50%]" src="{{ $image.RelPermalink }}">
          </picture>
          {{ end }}
          {{ end }}
            <div class="py-4">
              <a href="{{ .RelPermalink }}">
                <h3 class="text-4xl font-bold text-gray-900">
                  {{ .Title }}
                </h3>
              </a>
              <time datetime="2022-10-10" class="block text-base text-gray-500">
                {{ .Date.Format "02. 01. 2006." }}
              </time>
              <p class="tracking-widest text-xs capitalize title-font font-medium text-gray-400 mb-1">{{ with .Params.tags }}{{ delimit . ", " }}{{ end }}</p>
              <p class="mt-2 line-clamp-3 text-base/relaxed text-gray-500">
                {{ .Summary }}
              </p>
            </div>
        </article>
        {{ end }}
      </div>
        <div>
            <h5 class="font-bold">
                Latest E-Books
            </h5>
          {{ $ebooks := where .Site.Pages "Params.category" "ebook" | first 2 }}
          {{ range $ebook := $ebooks }}
            <article class="flex bg-white mb-4 transition hover:shadow-xl">
                <div class="basis-40 block">
                  {{ with resources.Get .Params.featured_image }}
                  {{ $image := .Resize (printf "%dx%d webp" .Width .Height) }}
                  {{ if $image }}
                  <picture>
                    <source srcset="{{ $image.RelPermalink }}" type="image/webp">
                    <img alt="ebook" src="{{ $image.RelPermalink }}" class="h-full w-full object-contain"/>
                  </picture>
                  {{ end }}
                  {{ end }}
                </div>
                <div class="flex flex-1 flex-col justify-between">
                  <div class="border-s border-gray-900/10 p-4 sm:border-l-transparent sm:p-6">
                    <a href="{{ .RelPermalink }}">
                      <h3 class="font-bold uppercase text-gray-900">
                        {{ .Title }}
                      </h3>
                    </a>
                    <p class="mt-2 line-clamp-3 text-sm/relaxed text-gray-700">
                      {{ .Summary }}
                    </p>
                  </div>
                  <div class="flex items-end justify-end">
                    <a href="{{ .RelPermalink }}" class="block bg-tuscan px-5 py-3 text-center text-xs font-bold uppercase text-gray-900 transition hover:bg-yellow-400">
                      Order E-Book
                    </a>
                  </div>
                </div>
              </article>
              {{ end }}
        </div>
    </div>
  </section>
  <section class="text-gray-600 body-font">
    <div class="mw-auto border-b-4 border-buff my-4">
        <h2 class="text-2xl font-bold sm:text-4xl">
            Blog Posts
        </h2>
    </div>
    <div class="py-5">
      <div class="flex flex-wrap -m-4" id="artlist">
        {{ $number := 0 -}}
        {{- range where .Site.Pages "Params.category" "blog" -}}
        {{- $number = add $number 1 -}}
        <div id="post" class="p-4 md:w-1/3" data-tags="{{.Params.Tags}}" {{ if gt $number .Site.Params.indexarticles }}class=""{{ end }}>
          <article class="overflow-hidden rounded-lg shadow transition hover:shadow-lg">
            {{ with resources.Get .Params.featured_image }}
            {{ $image := .Resize (printf "%dx%d webp" .Width .Height) }}
            {{ if $image }}
            <picture>
              <source srcset="{{ $image.RelPermalink }}" type="image/webp">
              <img class="lg:h-48 md:h-36 w-full object-cover object-center" src="{{ $image.RelPermalink }}">
            </picture>
            {{ end }}
            {{ end }}
            <div class="bg-white p-4 sm:p-6">
              <time datetime="2022-10-10" class="block text-xs text-gray-500">
                {{ .Date.Format "02. 01. 2006." }}
              </time>
              <p class="tracking-widest text-xs capitalize title-font font-medium text-gray-400 mb-1">{{ with .Params.tags }}{{ delimit . ", " }}{{ end }}</p>
              <a href="{{ .RelPermalink }}">
                <h3 class="mt-0.5 text-lg text-gray-900">
                  {{ .Title }}
                </h3>
              </a>
              <p class="mt-2 line-clamp-3 text-sm/relaxed text-gray-500">
                {{ .Summary }}
              </p>
            </div>
          </article>
        </div>
        {{ end -}}
      </div>
    </div>
  </section>
  <section class="text-gray-600 body-font">
    <div class="mw-auto border-b-4 border-buff my-4">
        <h2 class="text-2xl font-bold sm:text-4xl">
            Latests E-Books
        </h2>
    </div>
    <div class="py-5">
      <div class="flex flex-wrap -m-4" id="artlist">
        {{ $number := 0 -}}
        {{- range where .Site.Pages "Params.category" "ebook" -}}
        {{- $number = add $number 1 -}}
        <div id="post" class="p-4 md:w-1/3" data-tags="{{.Params.Tags}}" {{ if gt $number .Site.Params.indexarticles }}class=""{{ end }}>
          <article class="overflow-hidden rounded-lg shadow transition hover:shadow-lg">
            {{ with resources.Get .Params.featured_image }}
            {{ $image := .Resize (printf "%dx%d webp" .Width .Height) }}
            {{ if $image }}
            <picture>
              <source srcset="{{ $image.RelPermalink }}" type="image/webp">
              <img class="lg:h-48 md:h-36 w-full object-cover object-center" src="{{ $image.RelPermalink }}">
            </picture>
            {{ end }}
            {{ end }}
            <div class="bg-white p-4 sm:p-6">
              <time datetime="2022-10-10" class="block text-xs text-gray-500">
                {{ .Date.Format "02. 01. 2006." }}
              </time>
              <p class="tracking-widest text-xs capitalize title-font font-medium text-gray-400 mb-1">{{ with .Params.tags }}{{ delimit . ", " }}{{ end }}</p>
              <a href="{{ .RelPermalink }}">
                <h3 class="mt-0.5 text-lg text-gray-900">
                  {{ .Title }}
                </h3>
              </a>
              <p class="mt-2 line-clamp-3 text-sm/relaxed text-gray-500">
                {{ .Summary }}
              </p>
            </div>
          </article>
        </div>
        {{ end -}}
      </div>
    </div>
  </section>
</main>
{{ $scripts := resources.Get "scripts/search.ts" }}
{{ $options := dict "minify" true }}
{{ $js := $scripts | js.Build $options }}
<script src="{{ $js.RelPermalink }}" integrity="{{ $js.Data.Integrity }}" defer></script>
{{ end }}